graph TD
    subgraph Project Lifecycle
        A[Create Project]
        B[Initialize Git Repo]
        C[Set Project Metadata]
    end

    subgraph Step Processing
        D["Context Generation
        (= Prompt Compilation)"]
    subgraph Context Elements
        D1[Project Details]
        D2[Milestone Details]
        D3[Current Task Details]
        D4[Workspace Info]
        D5[Resource Info]
    end
    E[LLM Processing]
    F[Elisp Generation]
    G[Elisp Execution]
    H{Success?}
    end

    subgraph Logging & Version Control
        I[Log Success]
        J[Log Error]
        K{Is Milestone?}
        L[Git Commit]
        M[Only Log]
        N[Update Project State]
    end

    A --> B
    B --> C
    C --> D
    D1 --> D
    D2 --> D
    D3 --> D
    D4 --> D
    D5 --> D
    D --> E
    E --> F
    F --> G
    G --> H
    H -- Yes --> I
    H -- No --> J
    I --> K
    K -- Yes --> L
    K -- No --> M
    L --> N
    J --> M
    M --> N
    N --> D